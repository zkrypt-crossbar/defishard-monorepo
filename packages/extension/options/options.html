<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeFiShArd Extension Settings</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="options-container">
        <header class="options-header">
            <div class="header-content">
                <img src="../assets/icons/icon.svg" alt="DeFiShArd" class="header-logo">
                <div class="header-text">
                    <h1>DeFiShArd Extension</h1>
                    <p>Settings & Configuration</p>
                </div>
            </div>
        </header>

        <main class="options-main">
            <div class="options-section">
                <h2>Connection Settings</h2>
                <div class="form-group">
                    <label for="relayer-url">Relayer URL</label>
                    <input type="url" id="relayer-url" placeholder="http://localhost:3000">
                    <div class="form-help">URL of the DeFiShArd relayer server</div>
                    
                    <!-- Quick preset buttons -->
                    <div class="preset-buttons" style="margin-top: 8px; display: flex; gap: 8px; flex-wrap: wrap;">
                        <button type="button" class="btn-preset" data-relayer="http://localhost:3000" data-ws="ws://localhost:3000">Local</button>
                        <button type="button" class="btn-preset" data-relayer="http://68.183.230.178:3000" data-ws="ws://68.183.230.178:3000">Remote</button>
                        <button type="button" class="btn-preset" data-relayer="https://api.defishard.com" data-ws="wss://api.defishard.com">Production</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="websocket-url">WebSocket URL</label>
                    <input type="url" id="websocket-url" placeholder="ws://localhost:3000">
                    <div class="form-help">WebSocket URL for real-time communication</div>
                </div>
                
                <div class="form-group">
                    <label for="api-key">API Key (Optional)</label>
                    <input type="password" id="api-key" placeholder="Enter your API key">
                    <div class="form-help">API key for authenticated requests</div>
                </div>
            </div>

            <div class="options-section">
                <h2>Security Settings</h2>
                <div class="form-group">
                    <label for="auto-lock">Auto Lock Timeout (minutes)</label>
                    <select id="auto-lock">
                        <option value="5">5 minutes</option>
                        <option value="15">15 minutes</option>
                        <option value="30">30 minutes</option>
                        <option value="60">1 hour</option>
                        <option value="0">Never</option>
                    </select>
                    <div class="form-help">Automatically lock wallet after inactivity</div>
                </div>
                
                <div class="form-group">
                    <label for="debug-mode">
                        <input type="checkbox" id="debug-mode">
                        Enable Debug Mode
                    </label>
                    <div class="form-help">Show detailed logs for troubleshooting</div>
                </div>
            </div>

            <div class="options-section">
                <h2>Appearance</h2>
                <div class="form-group">
                    <label for="theme">Theme</label>
                    <select id="theme">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                        <option value="auto">Auto (System)</option>
                    </select>
                    <div class="form-help">Choose your preferred theme</div>
                </div>
            </div>

            <div class="options-section">
                <h2>Wallet Management</h2>
                <div class="wallet-list" id="wallet-list">
                    <div class="loading">Loading wallets...</div>
                </div>
                
                <div class="wallet-actions">
                    <button class="btn btn-primary" id="create-wallet-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 5v14M5 12h14" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                        </svg>
                        Create New Wallet
                    </button>
                    
                    <button class="btn btn-secondary" id="import-wallet-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            <polyline points="7,10 12,15 17,10" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                        </svg>
                        Import Wallet
                    </button>
                </div>
            </div>

            <div class="options-section">
                <h2>Data Management</h2>
                <div class="data-actions">
                    <button class="btn btn-secondary" id="export-data-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            <polyline points="17,8 12,3 7,8" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            <line x1="12" y1="3" x2="12" y2="15" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                        </svg>
                        Export Data
                    </button>
                    
                    <button class="btn btn-secondary" id="import-data-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            <polyline points="7,10 12,15 17,10" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                        </svg>
                        Import Data
                    </button>
                    
                    <button class="btn btn-danger" id="clear-data-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <polyline points="3,6 5,6 21,6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            <path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                        </svg>
                        Clear All Data
                    </button>
                </div>
            </div>

            <div class="options-section">
                <h2>About</h2>
                <div class="about-info">
                    <p><strong>Version:</strong> <span id="extension-version">1.0.0</span></p>
                    <p><strong>Storage Usage:</strong> <span id="storage-usage">Calculating...</span></p>
                    <p><strong>Connection Status:</strong> <span id="connection-status">Checking...</span></p>
                </div>
                
                <div class="about-links">
                    <a href="https://docs.defishard.com" target="_blank" class="link">Documentation</a>
                    <a href="https://github.com/defishard" target="_blank" class="link">GitHub</a>
                    <a href="https://defishard.com" target="_blank" class="link">Website</a>
                </div>
            </div>
        </main>

        <footer class="options-footer">
            <div class="footer-actions">
                <button class="btn btn-primary" id="save-settings-btn">Save Settings</button>
                <button class="btn btn-secondary" id="reset-settings-btn">Reset to Defaults</button>
            </div>
        </footer>
    </div>

    <!-- Hidden file input for import -->
    <input type="file" id="import-file-input" accept=".json" style="display: none;">
    
    <script src="options.js"></script>
</body>
</html>
